import{g as s,o as e}from"./index-BTSoHJWT.js";import{K as F,$ as M,b as I,w as T,_ as A,L as K}from"./render-D0U03P_R.js";let V=s.createContext(void 0);function $(){return s.useContext(V)}let B="button";function O(i,m){var o;let g=$(),{disabled:t=g||!1,autoFocus:r=!1,...c}=i,{isFocusVisible:u,focusProps:v}=M({autoFocus:r}),{isHovered:h,hoverProps:d}=I({isDisabled:t}),{pressed:p,pressProps:k}=T({disabled:t}),x=A({ref:m,type:(o=c.type)!=null?o:"button",disabled:t||void 0,autoFocus:r},v,d,k),f=s.useMemo(()=>({disabled:t,hover:h,focus:u,active:p,autofocus:r}),[t,h,u,p,r]);return K()({ourProps:x,theirProps:c,slot:f,defaultTag:B,name:"Button"})}let H=F(O);const z={protein:[{name:"Kyckling",allergens:[]},{name:"Nötfärs",allergens:[]},{name:"Fläskfilé",allergens:[]},{name:"Korv",allergens:[]},{name:"Bacon",allergens:[]},{name:"Lax",allergens:["Fisk"],alternative:{name:"Tofu",allergens:[]}},{name:"Räkor",allergens:["Skaldjur"],alternative:{name:"Bönor",allergens:[]}},{name:"Tonfisk",allergens:["Fisk"],alternative:{name:"Quorn",allergens:[]}},{name:"Halloumi",allergens:["Laktos"],alternative:{name:"Tofu",allergens:[]}},{name:"Kikärtor",allergens:[]},{name:"Röda linser",allergens:[]},{name:"Edamame",allergens:["Soja"]},{name:"Tofuskinn (Yuba)",allergens:["Soja"]},{name:"Svarta bönor",allergens:[]},{name:"Refried beans",allergens:[]}],dairy:[{name:"Mjölk",allergens:["Laktos"],alternative:{name:"Laktosfri mjölk",allergens:[]}},{name:"Grädde",allergens:["Laktos"],alternative:{name:"Havregrädde",allergens:["Gluten"]}},{name:"Smör",allergens:["Laktos"],alternative:{name:"Mjölkfritt margarin",allergens:[]}},{name:"Ost",allergens:["Laktos"],alternative:{name:"Laktosfri ost",allergens:[]}},{name:"Créme Fraiche",allergens:["Laktos"],alternative:{name:"Soyabaserad Fraiche",allergens:[]}},{name:"Mjölkchoklad",allergens:["Laktos"],alternative:{name:"Mörk choklad (vegansk)",allergens:[]}},{name:"Kvarg",allergens:["Laktos"],alternative:{name:"Laktosfri kvarg",allergens:[]}},{name:"Queso Fresco",allergens:["Laktos"],alternative:{name:"Laktosfri Queso",allergens:[]}},{name:"Fetaost",allergens:["Laktos"],alternative:{name:"Laktosfri feta",allergens:[]}},{name:"Mozzarella",allergens:["Laktos"],alternative:{name:"Vegansk mozzarella",allergens:[]}}],vegetables:[{name:"Tomat",allergens:[]},{name:"Gurka",allergens:[]},{name:"Lök",allergens:[]},{name:"Paprika",allergens:[]},{name:"Sallad",allergens:[]},{name:"Morot",allergens:[]},{name:"Broccoli",allergens:[]},{name:"Blomkål",allergens:[]},{name:"Majs",allergens:[]},{name:"Selleri",allergens:["Selleri"],alternative:{name:"Zucchini",allergens:[]}},{name:"Rödbetor",allergens:[]},{name:"Sparris",allergens:[]},{name:"Champinjoner",allergens:[]},{name:"Fänkål",allergens:[]},{name:"Ruccola",allergens:[]},{name:"Jalapeños",allergens:[]},{name:"Oliver",allergens:[]},{name:"Soltorkade tomater",allergens:[]}],fruits:[{name:"Äpple",allergens:[]},{name:"Banan",allergens:[]},{name:"Apelsin",allergens:[]},{name:"Avokado",allergens:[]},{name:"Citron",allergens:[]},{name:"Päron",allergens:[]},{name:"Vindruvor",allergens:[]},{name:"Mango",allergens:[]},{name:"Ananas",allergens:[]},{name:"Kiwi",allergens:[]}],spices:[{name:"Salt",allergens:[]},{name:"Peppar",allergens:[]},{name:"Oregano",allergens:[]},{name:"Paprikapulver",allergens:[]},{name:"Vitlökspulver",allergens:[]},{name:"Curry",allergens:[]},{name:"Kanel",allergens:[]},{name:"Senapspulver",allergens:["Senap"],alternative:{name:"Pepparrotspulver",allergens:[]}},{name:"Chiliflakes",allergens:[]},{name:"Ingefära",allergens:[]},{name:"Gurkmeja",allergens:[]},{name:"Herbes de Provence",allergens:[]},{name:"Rökt paprika",allergens:[]},{name:"Tacokrydda",allergens:[]},{name:"Koriander",allergens:[]},{name:"Basilika",allergens:[]}],grains:[{name:"Pasta",allergens:["Gluten"],alternative:{name:"Glutenfri pasta",allergens:[]}},{name:"Ris",allergens:[]},{name:"Bröd",allergens:["Gluten"],alternative:{name:"Glutenfritt bröd",allergens:[]}},{name:"Idéalmjöl",allergens:["Gluten"],alternative:{name:"Glutenfritt mjöl",allergens:[]}},{name:"Couscous",allergens:["Gluten"],alternative:{name:"Bulgur (kan också innehålla gluten)",allergens:["Gluten"]}},{name:"Havregryn",allergens:["Gluten"],alternative:{name:"Ren havre (GF-märkt)",allergens:[]}},{name:"Quinoa",allergens:[]},{name:"Matvete",allergens:["Gluten"],alternative:{name:"Hirs",allergens:[]}},{name:"Polenta",allergens:[]},{name:"Ramen (vete)",allergens:["Gluten"],alternative:{name:"Risnudlar",allergens:[]}},{name:"Vetetortilla",allergens:["Gluten"],alternative:{name:"Majstortilla",allergens:[]}}],other:[{name:"Olivolja",allergens:[]},{name:"Sojasås",allergens:["Gluten"],alternative:{name:"Tamari",allergens:[]}},{name:"Kokosmjölk",allergens:[]},{name:"Potatis",allergens:[]},{name:"Jordnötter",allergens:["Nötter"],alternative:{name:"Solrosfrön",allergens:[]}},{name:"Mandel",allergens:["Nötter"],alternative:{name:"Kokosflingor",allergens:[]}},{name:"Ägg",allergens:["Ägg"],alternative:{name:"No-egg replacer",allergens:[]}},{name:"Ketchup",allergens:[]},{name:"Majonnäs",allergens:["Ägg"],alternative:{name:"Vegansk majonnäs",allergens:[]}},{name:"Sesamolja",allergens:[]},{name:"Fisksås",allergens:["Fisk"],alternative:{name:"Vegansk fisksås (baserad på alger)",allergens:[]}},{name:"Mirin",allergens:[]},{name:"Miso",allergens:["Soja"],alternative:{name:"Miso (glutenfri)",allergens:["Soja"]}},{name:"Sriracha",allergens:[]},{name:"Kimchi",allergens:["Fisk"],alternative:{name:"Vegansk kimchi",allergens:[]}},{name:"Chipotlepasta",allergens:[]},{name:"Salsa",allergens:[]},{name:"Tacosås",allergens:[]},{name:"Guacamole",allergens:[]},{name:"Tapenade",allergens:[]},{name:"Ajvar",allergens:[]},{name:"Pesto",allergens:["Nötter"],alternative:{name:"Pesto utan nötter",allergens:[]}}]},y=({label:i,selected:m,onChange:o,disabled:g=!1})=>e.jsx("div",{onClick:g?void 0:o,className:`
        cursor-pointer select-none rounded px-3 py-2 border text-sm transition-colors
        ${m?"bg-blue-500 text-white border-transparent":"bg-white text-black border-gray-300"}
        ${g?"opacity-50 cursor-not-allowed":""}
      `,children:i});function Q(){const[i,m]=s.useState([]),[o,g]=s.useState([]),[t,r]=s.useState([]),[c,u]=s.useState(!1),[v,h]=s.useState(4),[d,p]=s.useState("ingredients"),[k,x]=s.useState(""),f=s.useRef(null),G=["Nötter","Gluten","Laktos","Ägg","Fisk","Skaldjur","Selleri","Senap"],j=a=>a.some(l=>i.includes(l));function R(a){const l=[];for(const n of a)j(n.allergens)?n.alternative&&!j(n.alternative.allergens)&&l.push(n.alternative):l.push(n);return l}const w=a=>{m(l=>l.includes(a)?l.filter(n=>n!==a):[...l,a])},L=a=>{g(l=>l.includes(a)?l.filter(n=>n!==a):[...l,a])},C=()=>{m([]),g([])},P=async()=>{var a;u(!0);try{const n=await(await fetch("/api/generate-recipes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({allergens:i,ingredients:o,servings:v,cuisine:k})})).json();n.recipes?r(n.recipes):n.error?r([n.error]):r(["Inget svar eller oväntat svar från servern."]),(a=f.current)==null||a.scrollIntoView({behavior:"smooth"})}catch(l){console.error(l),r([l.message||"Fel vid API-anropet. Se console för mer info."])}u(!1)},N=()=>e.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Välj ingredienser"}),e.jsx("button",{onClick:C,className:"text-xs text-blue-500 underline",children:"Avmarkera alla"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"font-semibold block mb-2",htmlFor:"servings",children:"Antal personer"}),e.jsx("input",{type:"number",id:"servings",min:1,value:v,onChange:a=>h(Number(a.target.value)),className:"w-full rounded border border-gray-300 p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Allergier"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:G.map(a=>e.jsx(y,{label:a,selected:i.includes(a),onChange:()=>w(a)},a))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Matkultur (valfritt)"}),e.jsxs("select",{value:k,onChange:a=>x(a.target.value),className:"w-full rounded border border-gray-300 p-2",children:[e.jsx("option",{value:"",children:"Ingen specifik matkultur"}),e.jsx("option",{value:"medelhavs",children:"Medelhavs"}),e.jsx("option",{value:"mellanostern",children:"Mellanöstern"}),e.jsx("option",{value:"italiensk",children:"Italienskt"}),e.jsx("option",{value:"fransk",children:"Franskt"}),e.jsx("option",{value:"nordisk",children:"Nordiskt"})]})]}),Object.entries(z).map(([a,l])=>{const n=R(l);return e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold capitalize mb-2",children:a}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:n.map(b=>e.jsx(y,{label:b.name,selected:o.includes(b.name),onChange:()=>L(b.name)},b.name))})]},a)}),e.jsx(H,{onClick:P,className:"mt-4 w-full bg-blue-500 text-white py-2 rounded",disabled:c,children:c?"Genererar...":"Generera Recept"})]}),S=()=>e.jsxs("div",{ref:f,className:"rounded-lg bg-gray-100 p-4 shadow w-full",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Genererade Recept"}),c?e.jsx("p",{children:"Laddar recept..."}):t.length?e.jsx("ul",{children:t.map((a,l)=>e.jsx("li",{className:"p-2 border-b whitespace-pre-wrap",children:a},l))}):e.jsx("p",{className:"text-gray-600",children:"Inga recept än. Välj ingredienser, ange antal personer och klicka “Generera Recept”!"})]});return e.jsxs("div",{className:"min-h-screen p-4",children:[e.jsxs("div",{className:"mb-4 text-gray-700 text-sm",children:['Välj dina ingredienser, allergier och matkultur (valfritt). Ange antal personer och klicka "Generera Recept".',e.jsx("br",{}),"Resultatet kommer alltid att ha följande layout: först en lista med ingredienser, sedan en detaljerad beskrivning av tillvägagångssättet."]}),e.jsxs("div",{className:"block md:hidden",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>p("ingredients"),className:`flex-1 py-2 rounded ${d==="ingredients"?"bg-blue-500 text-white":"bg-gray-200 text-black"}`,children:"Ingredienser"}),e.jsx("button",{onClick:()=>p("recipes"),className:`flex-1 py-2 rounded ${d==="recipes"?"bg-blue-500 text-white":"bg-gray-200 text-black"}`,children:"Recept"})]}),d==="ingredients"&&N(),d==="recipes"&&S()]}),e.jsxs("div",{className:"hidden md:flex md:gap-4",children:[e.jsx("div",{className:"md:w-1/2",children:S()}),e.jsx("div",{className:"md:w-1/2",children:N()})]})]})}function D(){return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Receptgenerator"}),e.jsx(Q,{})]})}export{D as default};
//# sourceMappingURL=Recipes-Nzl4YXrk.js.map
