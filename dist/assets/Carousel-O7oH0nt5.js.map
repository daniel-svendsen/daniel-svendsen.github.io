{"version":3,"file":"Carousel-O7oH0nt5.js","sources":["../../src/components/Carousel.tsx"],"sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\r\nimport {useImportedImages} from \"../hooks/useImportedImages\";\r\nimport {useShuffledImages} from \"../hooks/useShuffleImages\";\r\n\r\ninterface CarouselProps {\r\n    interval?: number;\r\n    pauseDuration?: number;\r\n}\r\n\r\nexport default function Carousel({\r\n                                     interval = 3000,\r\n                                     pauseDuration = 5000,\r\n                                 }: CarouselProps) {\r\n    const imagesData = useImportedImages([\"carousel\"]);\r\n    const images = imagesData.carousel || [];\r\n\r\n    const shuffledImages = useShuffledImages(images);\r\n\r\n    const [currentIndex, setCurrentIndex] = useState<number>(0);\r\n    const [isPaused, setIsPaused] = useState<boolean>(false);\r\n    const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (shuffledImages.length === 0 || isPaused) return;\r\n\r\n        if (intervalRef.current) clearInterval(intervalRef.current);\r\n\r\n        intervalRef.current = setInterval(() => {\r\n            setCurrentIndex((prevIndex) => (prevIndex + 1) % shuffledImages.length);\r\n        }, interval);\r\n\r\n        return () => {\r\n            if (intervalRef.current) clearInterval(intervalRef.current);\r\n        };\r\n    }, [shuffledImages, interval, isPaused]);\r\n\r\n    const handleUserInteraction = (newIndex: number) => {\r\n        setIsPaused(true);\r\n        setCurrentIndex(newIndex);\r\n        setTimeout(() => setIsPaused(false), pauseDuration);\r\n    };\r\n\r\n    if (shuffledImages.length === 0) return null;\r\n\r\n    return (\r\n        <section\r\n            className=\"relative mx-auto overflow-hidden rounded-lg shadow-md\"\r\n            style={{width: \"75vw\", height: \"75vh\"}}\r\n            aria-label=\"Bildkarusell\"\r\n        >\r\n            {shuffledImages.map((image, index) => (\r\n                <figure\r\n                    key={index}\r\n                    className={`absolute inset-0 w-full h-full transition-opacity duration-1000 ${\r\n                        index === currentIndex ? \"opacity-100\" : \"opacity-0\"\r\n                    }`}\r\n                >\r\n                    <img\r\n                        src={image}\r\n                        alt={`Bild ${index + 1} av ${shuffledImages.length}`}\r\n                        loading=\"lazy\"\r\n                        className=\"w-full h-full object-contain\"\r\n                    />\r\n                </figure>\r\n            ))}\r\n\r\n            <button\r\n                onClick={() =>\r\n                    handleUserInteraction(\r\n                        (currentIndex - 1 + shuffledImages.length) % shuffledImages.length\r\n                    )\r\n                }\r\n                className=\"absolute top-1/2 left-4 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full hover:bg-opacity-75 focus:outline-none\"\r\n                aria-label=\"Föregående bild\"\r\n            >\r\n                &#8249;\r\n            </button>\r\n\r\n            <button\r\n                onClick={() =>\r\n                    handleUserInteraction((currentIndex + 1) % shuffledImages.length)\r\n                }\r\n                className=\"absolute top-1/2 right-4 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full hover:bg-opacity-75 focus:outline-none\"\r\n                aria-label=\"Nästa bild\"\r\n            >\r\n                &#8250;\r\n            </button>\r\n        </section>\r\n    );\r\n}\r\n"],"names":["Carousel","interval","pauseDuration","images","useImportedImages","shuffledImages","useShuffledImages","currentIndex","setCurrentIndex","useState","isPaused","setIsPaused","intervalRef","useRef","useEffect","prevIndex","handleUserInteraction","newIndex","jsxs","image","index","jsx"],"mappings":"yGASA,SAAwBA,EAAS,CACI,SAAAC,EAAW,IACX,cAAAC,EAAgB,GACpB,EAAkB,CAEzC,MAAAC,EADaC,EAAkB,CAAC,UAAU,CAAC,EACvB,UAAY,CAAC,EAEjCC,EAAiBC,EAAkBH,CAAM,EAEzC,CAACI,EAAcC,CAAe,EAAIC,EAAAA,SAAiB,CAAC,EACpD,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAkB,EAAK,EACjDG,EAAcC,SAA8B,IAAI,EAEtDC,EAAAA,UAAU,IAAM,CACR,GAAA,EAAAT,EAAe,SAAW,GAAKK,GAEnC,OAAIE,EAAY,SAAuB,cAAAA,EAAY,OAAO,EAE9CA,EAAA,QAAU,YAAY,IAAM,CACpCJ,EAAiBO,IAAeA,EAAY,GAAKV,EAAe,MAAM,GACvEJ,CAAQ,EAEJ,IAAM,CACLW,EAAY,SAAuB,cAAAA,EAAY,OAAO,CAC9D,CACD,EAAA,CAACP,EAAgBJ,EAAUS,CAAQ,CAAC,EAEjC,MAAAM,EAAyBC,GAAqB,CAChDN,EAAY,EAAI,EAChBH,EAAgBS,CAAQ,EACxB,WAAW,IAAMN,EAAY,EAAK,EAAGT,CAAa,CACtD,EAEI,OAAAG,EAAe,SAAW,EAAU,KAGpCa,EAAA,KAAC,UAAA,CACG,UAAU,wDACV,MAAO,CAAC,MAAO,OAAQ,OAAQ,MAAM,EACrC,aAAW,eAEV,SAAA,CAAeb,EAAA,IAAI,CAACc,EAAOC,IACxBC,EAAA,IAAC,SAAA,CAEG,UAAW,mEACPD,IAAUb,EAAe,cAAgB,WAC7C,GAEA,SAAAc,EAAA,IAAC,MAAA,CACG,IAAKF,EACL,IAAK,QAAQC,EAAQ,CAAC,OAAOf,EAAe,MAAM,GAClD,QAAQ,OACR,UAAU,8BAAA,CAAA,CACd,EAVKe,CAAA,CAYZ,EAEDC,EAAA,IAAC,SAAA,CACG,QAAS,IACLL,GACKT,EAAe,EAAIF,EAAe,QAAUA,EAAe,MAChE,EAEJ,UAAU,qJACV,aAAW,kBACd,SAAA,GAAA,CAED,EAEAgB,EAAA,IAAC,SAAA,CACG,QAAS,IACLL,GAAuBT,EAAe,GAAKF,EAAe,MAAM,EAEpE,UAAU,sJACV,aAAW,aACd,SAAA,GAAA,CAAA,CAED,CAAA,CACJ,CAER"}